<div id="confession" class="mirror">
  <ul class="messages">
    <li class=""></li>
  </ul>
  <%= render partial: 'confession', locals: { mirror: @mirror, confession: @confession } %>
</div>

<script data-turbolinks-eval=false>
  var channel = pusher.subscribe('<%= @mirror.id %>');
  var timeoutTime = 1000;
  channel.bind("update", function(data) {
    setTimeout(function() {
      Turbolinks.visit(location.toString());
    }, timeoutTime);
  });
</script>
